#!/bin/bash
alias s=sudo se="sudo eopkg -y" g=git

gnome="$(echo eog file-roller gnome-{photos,mpv,terminal} nautilus rhythmbox)"
audio="audacious audacious-plugins audacity opus-tools quodlibet spek"
dev="ccache docker-compose git-extras llvm-clang neovim parallel solbuild tig upx"
gui="abiword caja gmic-gimp engrampa keepassxc kitty lutris vorta"
media="avidemux gaupol jpegoptim mpv playerctl usbmuxd viewnior zathura-poppler"
rice="ant-dracula-gtk-theme font-ubuntu-ttf rofi starship stow"
term="advancecomp autojump fd fish fzf innoextract most ncdu p7zip ranger ripgrep tmux"
sys="bleachbit corectrl ifuse linux-tools-cpupower python-wheel rsync tlp"
web="arcanist aria2 nicotine-plus qutebrowser openssh-server rclone subliminal syncthing-gtk"

se up 
se it -c system.devel $audio $dev $gui $media $rice $sys $term $web
se rm $gnome firefox hexchat libreoffice-common onboard thunderbird
se rm --ignore-dependency plata-theme tracker

echo source ~/.config/bashrc > ~/.bashrc
install -D <(echo set -g mouse on) ~/.config/tmux/tmux.conf

mkdir -p ~/.parallel/will-cite
parallel stow --no-folding -d ~/.dotfiles/dot-{} -t ~/.{} . ::: config local

un(){ F=$(mktemp); mkdir -p $2; curl https://api.github.com/repos/$1/releases |\
      grep -om1 http.\*zip | wget -i- -O$F; unzip $F -d $2;}
un bloc97/Anime4k ~/.config/mpv/shaders
un mozilla/pdf.js ~/.local/share/qutebrowser/pdfjs

pip3 install adblock pipx-in-pipx readability-lxml sh
parallel pipx install ::: deemix soundscrape tldr yt-dlp

s usermod -aG docker $USER
s systemctl enable --now docker
s systemctl mask tracker-{store,miner-{fs,rss,apps},extra,writeback}

g g p:appdwarf ~/.appdwarf
g g p:solus-stuff ~/.solus
g g p:phantop.github.io ~/.site
g g p:haiku-icons ~/.local/share/icons/Haiku
g g h:junegunn/vim-plug ~/.config/nvim/autoload
nvim +PlugUpdate +q +q

chsh -s $(which fish)
fish -c "aliases;clean"
