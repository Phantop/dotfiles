#!/usr/bin/fish
alias a 'alias -s'

a aliases 'v (which aliases); command aliases'
a all2jxl 'fd -e{png,jpg} -x cjxl -e 8 -d 0 {} {.}.jxl && fd -e{png,jpg} -x rm'
a ao3 'grep epub $argv | cut -d\" -f2 | parallel aria2c "https://ao3.org{}" -dao3;rm'
a base64d 'echo (echo $argv | base64 -d 2>/dev/null);:'
a bax 'source (which bax) && bax'
a catbox 'curl https://catbox.moe/user/api.php -F reqtype=fileupload -F fileToUpload=@$argv;:'
a cd 'cd (realpath $argv 2> /dev/null);:'
a clip 'xclip -sel clip'
a cpugov 's cpupower frequency-set -g performance'
a dirdl 'wget -r -k -p --no-parent --no-clobber -e robots=off -R "index.html*"'
a dl 'not test "$argv" && cd ~/Downloads || aria2c -c -x16 -s16'
a dot 'cd ~/.dotfiles'
a ff 'fd -HILi -Edosdevices -E.git'
a g git
a giveme 's chown $USER'
a hardinfo 'inxi -SPARM -GCDN -v1 -xGCRS -Fxz'
a imgsum 'printf "$argv: " && identify -format "%#\n"'
a invid 'tmux new -s 0 -d "docker-compose -f ~/.config/invid.yml up --build"'
a l ls
a la 'l -A'
a launcher 'rofi -combi-modi "drun,run" -show combi -modi "combi,window"'
a less 'eval $PAGER'
a listen 'pactl list | grep loop && set t un; pactl "$t"load-module module-loopback'
a musikcube 'screen -R -s musikcube'
a nix 'bax . ~/.nix-profile/etc/profile.d/nix.sh; command nix'
a off shutdown
a offh 'off (math "60*"$argv);:'
a open xdg-open
a pagedl 'wget -H -k -p --no-clobber -e robots=off'
a png2webp 'fd -e png -x cwebp -z 9 -mt {} -o {.}.webp && fd -e png -x rm'
a qutainer 'qutebrowser -B /tmp'
a rmdirs 'ff -t d -x rmdir -p'
a rmlinks 'ff -t l -x rm'
a qb 'qutebrowser --target auto'
a re 'systemctl reboot -i'
a s 'sudo env "PATH=$PATH"'
a se 's eopkg'
a spleet 'spleeter separate -o . -c flac'
a ta 'tmux a -t (math 0 + "0$argv");:'
a tar bsdtar
a tcsv 'curl -sL http://torrents-csv.ml/service/search?q="$argv"|jq ".[]|.name,.infohash,.seeders";:'
a temp 'curl temp.sh -T'
a transfer 'curl https://transfer.sh/(basename $argv) -T'
a twitch-dl 'ffmpeg -i (yt-dlp -e $argv[1]|tr / _) -c copy $argv[2..-1] "file:(yt-dlp -g $argv[1]).mkv"'
a up 'se up --y'
a v vi
a vi nvim
a wallp 'gsettings set org.gnome.desktop.background picture-uri file://(realpath $argv);:'
a wm 'startx (which $argv[1]) $argv[2..-1]'
a ydl 'while not yt-dlp $argv; end;:'


a 7zstd '7z a -m0=zstd -mx22 -mmt=8 -mfb=273 -md=256m -ms=on (realpath $argv[1]).7z'
a compress '7z a -m0=flzma2 -mx9 -mmt=8 -mfb=273 -md=256m -ms=on (realpath $argv[1]).7z'
a dwarf 'mkdwarfs -i . -o $PWD.dwarfs'
a dwarfs 'dwarfs -o offset=auto -o tidy_strategy=swap'
a foldwarf 'appdwarf -f $argv .;:'
a redwarf 'mkdwarfs -o redwarf.dwarfs --recompress -i'
a squash 'mksquashfs . $PWD.squashfs -comp zstd -b 1M -Xcompression-level 22'
a undwarfs 'mkdir dwarfs-root; dwarfsextract -o dwarfs-root -i'

for i in (cat ~/.config/qutebrowser/quickmarks | cut -d ' ' -f1)
    a $i "qb / \":quickmark-load $i\""
end

for i in getnative mcross nsz scdl spleeter thonny
    a $i "pipx run $i"
end
