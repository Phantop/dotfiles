#!/bin/sh
# shellcheck disable=SC2086
alias s=sudo se="s eopkg -y" g=git

gnome="gnome-photos gnome-mpv gnome-terminal nautilus rhythmbox"
se rm $gnome firefox libreoffice-common onboard thunderbird

pkgs="advancecomp arcanist aria2 audacious audacity avidemux bleachbit caja ccache
corectrl fd fish fzf gifsicle gimp git-extras ifuse innoextract jpegoptim keepassxc
kitty linux-tools-cpupower llvm-clang lrzip lynx mkvtoolnix moreutils mpv ncdu neovim
nicotine-plus nnn opus-tools p7zip parallel qt-creator qutebrowser ripgrep solbuild
spek syncthing tig tlp tor upx usbmuxd yt-dlp zathura-mupdf"
se up; se it -c system.devel $pkgs
pip3 install adblock pipx-in-pipx readability-lxml

stow --no-folding -d ~/.dotfiles -t ~/.config .
ln -s ~/.config/gtk-3.0/gtkrc ~/.gtkrc-2.0
mkdir -p ~/.parallel/will-cite

wget https://github.com/dracula/rofi/raw/master/theme/config2.rasi -P ~/.config/rofi
wget https://github.com/mrzool/bash-sensible/raw/master/sensible.bash -O ~/.bashrc
wget https://github.com/savq/paq-nvim/raw/master/lua/paq.lua -P ~/.config/nvim/lua
wget https://github.com/dracula/kitty/raw/master/dracula.conf -P ~/.config/kitty
wget https://source.netsurf-browser.org/netsurf.git/plain/resources/adblock.css\
    https://nitter.it/css/themes/dracula.css -P ~/.config/qutebrowser
un(){ F=$(mktemp); mkdir -p "$2"; curl https://api.github.com/repos/"$1"/releases |\
      grep -om1 http.\*zip | wget -i- -O"$F"; unzip "$F" -d "$2";}
un bloc97/Anime4k ~/.config/mpv/shaders
un mozilla/pdf.js ~/.local/share/qutebrowser/pdfjs

chsh -s "$(which fish)"
fish -c "aliases;clean"
s usermod -aG docker "$USER"

g g p:appdwarf ~/.appdwarf
g g p:solus-stuff ~/.solus
g g p:phantop.github.io ~/.site
g g p:haiku-icons ~/.local/share/icons/Haiku
nvim +PaqInstall +q

parallel gsettings set org.gnome.desktop.interface {}-theme Haiku ::: cursor icon
gsettings set org.gnome.desktop.interface gtk-theme Ant-Dracula
